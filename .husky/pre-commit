#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run lint-staged to check staged files
npx lint-staged

# Run tests for affected workspaces
npm test

# Ensure OpenAPI spec is valid
if command -v swagger-codegen >/dev/null 2>&1; then
  swagger-codegen validate -i openapi.yaml
fi